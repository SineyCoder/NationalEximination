webpackJsonp([1],{"+zZx":function(e,t){},"7QVd":function(e,t){},"8ivM":function(e,t){},DC8C:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},r,!1,function(e){n("+zZx")},null,null).exports,a=n("/ocq"),i="http://localhost:8088/exam",c=n("mtWM"),l=n.n(c);l.a.defaults.baseURL=i,l.a.defaults.withCredentials=!0;var u=l.a,p={ADD:"/add",GET_EXAM_TYPE:"/getAllExamType",GET_EXAM_PROJECT:"/getExamProject",SEARCH_TITLE:"/searchTitle",LOGIN:"/login"};var m={name:"Welcome",data:function(){return{codeSrc:i+"/getCode",form:{username:"",password:"",type:"0",code:""},formRules:{username:[{required:!0,message:"用户名未填写",trigger:"blur"}],password:[{required:!0,message:"密码未填写",trigger:"blur"}],code:[{required:!0,message:"验证码未填写",trigger:"blur"}]}}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var n=t.form,o={cAccount:n.username,cPassword:n.password,cGrant:n.type,code:n.code};(r=o,u.post(p.LOGIN,r).then(function(e){return e.data})).then(function(e){-1===e.code?t.$Message.error(e.msg):(t.$Message.success(e.msg),t.$router.push("/addQuestion"))})}else t.$Message.error("信息未填写完全");var r})},updateImg:function(){this.codeSrc=i+"/getCode?"+parseInt(100007*Math.random())}}},d={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"welcome"},[n("div",{staticClass:"form"},[e._m(0),e._v(" "),n("Form",{ref:"form",attrs:{model:e.form,rules:e.formRules}},[n("FormItem",{attrs:{prop:"user"}},[n("Input",{attrs:{type:"text",placeholder:"用户名"},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),e._v(" "),n("FormItem",{attrs:{prop:"password"}},[n("Input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),e._v(" "),n("FormItem",{attrs:{prop:"code"}},[n("Input",{staticStyle:{width:"50%",float:"left"},attrs:{type:"text",maxlength:"6",placeholder:"验证码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}},[n("Icon",{attrs:{slot:"prepend",type:"ios-ionitron-outline"},slot:"prepend"})],1),e._v(" "),n("img",{staticClass:"img",attrs:{src:e.codeSrc,alt:"#"},on:{click:e.updateImg}})],1),e._v(" "),n("FormItem",[n("RadioGroup",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[n("Radio",{attrs:{label:"0"}},[e._v("普通用户")]),e._v(" "),n("Radio",{attrs:{label:"1"}},[e._v("管理员")])],1)],1),e._v(" "),n("FormItem",[n("Button",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("form")}}},[e._v("登录")]),e._v(" "),n("Button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formInline")}}},[e._v("注册")])],1)],1)],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{"text-align":"center"}},[t("h2",[this._v("登录")])])}]};var f=n("VU/8")(m,d,!1,function(e){n("xE2Y")},"data-v-c9aaec38",null).exports,h={name:"Main",data:function(){return{theme:"dark",path:["/addQuestion","/questionAdmin"]}},methods:{menuSelect:function(e){this.$router.push(this.path[parseInt(e)-1])}}},v={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"main"},[t("BackTop"),this._v(" "),t("Layout",{staticClass:"layout"},[t("Header",[t("Menu",{attrs:{mode:"horizontal",theme:this.theme,"active-name":"1"},on:{"on-select":this.menuSelect}},[t("MenuItem",{attrs:{name:"1"}},[t("Icon",{attrs:{type:"ios-add-circle"}}),this._v("\n          添加内容\n        ")],1),this._v(" "),t("MenuItem",{attrs:{name:"2"}},[t("Icon",{attrs:{type:"ios-add-circle"}}),this._v("\n          管理内容\n        ")],1)],1)],1),this._v(" "),t("Content",[t("transition",{attrs:{name:"moveR",mode:"out-in"}},[t("router-view",{attrs:{name:"content"}})],1)],1)],1)],1)},staticRenderFns:[]};var y=n("VU/8")(h,v,!1,function(e){n("8ivM")},"data-v-7f5d0510",null).exports,_=n("mvHQ"),x=n.n(_),g={name:"AddQuestion",data:function(){return{form:{cTitle:"",cType:"单选题",cContent:"",cAnswer:"",cAnalyse:"",cPicture:[],cExamType:void 0,cExamProject:void 0},types:[{value:"单选题",label:"单选题"},{value:"判断题",label:"判断题"},{value:"不定项选择题",label:"不定项选择题"}],table:{col:[{title:"cid",key:"cid"},{title:"ctitle",key:"ctitle"},{title:"ctype",key:"ctype"},{title:"canswer",key:"canswer"},{title:"canalyse",key:"canalyse"},{title:"cpicture",key:"cpicture"},{title:"cexamType",key:"cexamType"}],data:[]},examTypes:[],projectTypes:[],optionType:0,optionContent:[],optionValue:"",filenames:[],refresh:!1}},mounted:function(){this.getExamType()},methods:{search:function(e){var t=this;(function(e){return u.post(p.SEARCH_TITLE,{content:e}).then(function(e){return e.data})})(e).then(function(e){e.length>0?t.$Message.info("有"+e.length+"条可能的记录。"):t.$Message.success("没有记录")})},getExamType:function(){var e=this;u.get(p.GET_EXAM_TYPE).then(function(e){return e.data}).then(function(t){for(var n=0;n<t.length;n++)e.examTypes.push({value:t[n].cid,label:t[n].ctype})})},examTypeSelect:function(e){var t,n=this;(t=e.value,u.get(p.GET_EXAM_PROJECT+"/"+t).then(function(e){return e.data})).then(function(e){n.projectTypes=[];for(var t=0;t<e.length;t++)n.projectTypes.push({value:e[t].cid,label:e[t].ctype})})},selectChange:function(e){"单选题"===e||"判断题"===e?(this.form.cAnswer="",this.optionType=0):(this.form.cAnswer=[],this.optionType=1)},addOption:function(){""!==this.optionValue?-1===this.optionContent.indexOf(this.optionValue)?(this.optionContent.push(this.optionValue),this.optionValue=""):this.$Message.error("请勿重复添加"):this.$Message.error("输入内容为空")},deleteOption:function(){if(1===this.optionType){for(var e=0;e<this.form.cAnswer.length;e++){var t=this.form.cAnswer[e],n=this.optionContent.indexOf(t);this.optionContent.splice(n,1)}this.form.cAnswer=[]}else{var o=this.optionContent.indexOf(this.form.cAnswer);this.optionContent.splice(o,1),this.form.cAnswer=""}},handleUpload:function(e){return-1===this.filenames.indexOf(e.name)?(this.filenames.push(e.name),!0):(this.$Message.error("已经上传过该图片"),!1)},handleError:function(e,t,n){this.filenames.splice(this.filenames.indexOf(n.name),1),this.$Message.error(n.name+" 上传失败")},handleSuccess:function(e){this.form.cPicture.push(e)},handleRemove:function(e){var t=this.filenames.indexOf(e.name);-1!==t&&this.filenames.splice(t,1),-1!==(t=this.form.cPicture.indexOf(e.name))&&this.form.cPicture.splice(t,1)},submit:function(){var e=this;console.log(this.form);var t=this.form;if(this.optionContent.length<2)this.$Message.error("你添加的选项数量不足");else{if(t.cAnswer instanceof Array){if(0===t.cAnswer.length)return void this.$Message.error("你还没选择不定项的答案");t.cAnswer.sort()}else{if(""===this.form.cAnswer)return void this.$Message.error("你还没选择一个正确答案");if(null==t.cExamType||t.cExamType<=0)return void this.$Message.error("你还没选择类型");if(null==t.cExamProject||t.cExamProject<=0)return void this.$Message.error("你还没选择具体科目")}if(""!==t.cTitle&&""!==t.cAnalyse){var n,o={cTitle:t.cTitle,cType:t.cType,cContent:x()(this.optionContent),cAnswer:x()(t.cAnswer),cAnalyse:t.cAnalyse,cPicture:x()(t.cPicture),cExamType:t.cExamType,cExamProject:t.cExamProject};(n=o,u.post(p.ADD,n).then(function(e){return e.data})).then(function(t){"success"===t&&(e.$Message.success("添加成功"),e.refresh=!0)})}else this.$Message.error("有未填写的区域")}}}},T={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"addQuestion"},[n("Modal",{attrs:{"mask-closable":!1,width:"360"},model:{value:e.refresh,callback:function(t){e.refresh=t},expression:"refresh"}},[n("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[n("Icon",{attrs:{type:"ios-information-circle"}}),e._v(" "),n("span",[e._v("刷新提示")])],1),e._v(" "),n("div",{staticStyle:{"text-align":"center"}},[n("p",[e._v("点击按钮后页面将会刷新，重置所有数据")])]),e._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("Button",{attrs:{type:"error",size:"large",long:""},on:{click:function(t){return e.$router.go(0)}}},[e._v("刷新")])],1)]),e._v(" "),n("Input",{staticClass:"item",staticStyle:{width:"100%"},attrs:{search:"",size:"large",placeholder:"题目"},on:{"on-search":e.search},model:{value:e.form.cTitle,callback:function(t){e.$set(e.form,"cTitle",t)},expression:"form.cTitle"}}),e._v(" "),n("Upload",{ref:"upload",attrs:{multiple:"",type:"drag","on-remove":e.handleRemove,"on-success":e.handleSuccess,"on-error":e.handleError,"before-upload":e.handleUpload,format:["jpg","jpeg","png"],"max-size":1024,action:"http://127.0.0.1:8088/exam/uploadPicture"}},[n("div",{staticStyle:{padding:"20px 0"}},[n("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"52"}}),e._v(" "),n("p",[e._v("上传图片（可选）")])],1)]),e._v(" "),n("div",[n("Select",{staticClass:"item",staticStyle:{width:"200px","margin-top":"10px"},on:{"on-select":e.examTypeSelect},model:{value:e.form.cExamType,callback:function(t){e.$set(e.form,"cExamType",t)},expression:"form.cExamType"}},e._l(e.examTypes,function(t){return n("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1),e._v(" "),n("div",[n("Select",{staticClass:"item",staticStyle:{width:"200px","margin-top":"10px"},model:{value:e.form.cExamProject,callback:function(t){e.$set(e.form,"cExamProject",t)},expression:"form.cExamProject"}},e._l(e.projectTypes,function(t){return n("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1),e._v(" "),n("div",[n("Select",{staticClass:"item",staticStyle:{width:"200px"},on:{"on-change":e.selectChange},model:{value:e.form.cType,callback:function(t){e.$set(e.form,"cType",t)},expression:"form.cType"}},e._l(e.types,function(t){return n("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1),e._v(" "),n("div",{staticClass:"item option"},[e.optionContent.length>0&&0===e.optionType?n("RadioGroup",{attrs:{vertical:""},model:{value:e.form.cAnswer,callback:function(t){e.$set(e.form,"cAnswer",t)},expression:"form.cAnswer"}},e._l(e.optionContent,function(t,o){return n("Radio",{key:o,attrs:{label:o}},[n("span",[e._v(e._s(t))])])}),1):e._e(),e._v(" "),e.optionContent.length>0&&1===e.optionType?n("CheckboxGroup",{attrs:{vertical:""},model:{value:e.form.cAnswer,callback:function(t){e.$set(e.form,"cAnswer",t)},expression:"form.cAnswer"}},e._l(e.optionContent,function(t,o){return n("Checkbox",{key:o,staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{label:o}},[n("span",[e._v(e._s(t))])])}),1):e._e(),e._v(" "),n("div",[""!==e.form.cAnswer&&0===e.optionType||e.form.cAnswer.length>0&&1===e.optionType?n("Button",{staticStyle:{margin:"20px 0 10px 0"},attrs:{type:"error"},on:{click:e.deleteOption}},[e._v("删除")]):e._e()],1),e._v(" "),n("Input",{attrs:{search:"","enter-button":"添加选项",placeholder:"请输入选项内容"},on:{"on-search":e.addOption},model:{value:e.optionValue,callback:function(t){e.optionValue=t},expression:"optionValue"}})],1),e._v(" "),n("Input",{staticClass:"item",staticStyle:{width:"100%"},attrs:{type:"textarea",rows:5,size:"large",placeholder:"题目解析"},model:{value:e.form.cAnalyse,callback:function(t){e.$set(e.form,"cAnalyse",t)},expression:"form.cAnalyse"}}),e._v(" "),n("Button",{on:{click:e.submit}},[e._v("提交")]),e._v(" "),n("div",[e._v(e._s(e.form.cAnswer))]),e._v(" "),n("div",[e._v(e._s(e.optionContent))])],1)},staticRenderFns:[]};var w=n("VU/8")(g,T,!1,function(e){n("DC8C")},"data-v-518982be",null).exports,A={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"questionAdmin"})},staticRenderFns:[]};var b=n("VU/8")({name:"QuestionAdmin"},A,!1,function(e){n("VC7L")},"data-v-1191b162",null).exports;o.default.use(a.a);var C=new a.a({routes:[{path:"/",name:"Welcome",component:f},{path:"/addQuestion",name:"Main",component:y,children:[{path:"/",name:"addQuestion",components:{content:w}}]},{path:"/questionAdmin",name:"Main",component:y,children:[{path:"/",name:"questionAdmin",components:{content:b}}]}]}),E=n("b3L9"),k=n.n(E);n("7QVd");o.default.use(k.a),o.default.config.productionTip=!1,new o.default({el:"#app",router:C,components:{App:s},template:"<App/>"})},VC7L:function(e,t){},xE2Y:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a4d6a4f605e04551ad43.js.map